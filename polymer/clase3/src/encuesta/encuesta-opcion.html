<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/polymer/lib/elements/dom-if.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">

<dom-module id="encuesta-opcion">
    <template>
    <style>
      :host {
        display: block;
        margin: 15px;
      }
      span {
        display: inline-block;
        position: relative;
        top: 2px;
        margin-left: 5px;
      }
      .marcada,
      .desmarcada {
        cursor: pointer;
      }
      .marcada {
        color: green;
      }
      .desmarcada {
        color: grey;
      }
    </style>
      <p on-click="toggle" class$="[[clase]]">
        <iron-icon icon="[[icono]]"></iron-icon><span>[[num]] - [[respuesta]]</span>
      </p>
    <hr />
    </template>

    <script>
        class EncuestaOpcion extends Polymer.Element {
            static get is() {
                return 'encuesta-opcion';
            }
            static get properties() {
                return {
                    respuesta: String,
                    marcada: {
                        type: Boolean,
                        value: false,
                        reflectToAttribute: true
                    },
                    icono: {
                        type: String,
                        computed: '_calcularIcono(marcada)'
                    },
                    clase: {
                        type: String,
                        computed: '_calcularClase(marcada)'
                    },
                    num: Number
                }
            }

            _calcularIcono(marcada) {
                return marcada ? 'icons:check-box' : 'icons:check-box-outline-blank';
            }

            _calcularClase(marcada) {
                return marcada ? 'marcada' : 'desmarcada';
            }

            toggle() {
                this.marcada = !this.marcada;
                this.dispatchEvent(new CustomEvent('marcada', {
                    detail: {

                    }
                }));
            }

        }
        window.customElements.define(EncuestaOpcion.is, EncuestaOpcion);
    </script>
</dom-module>